<!DOCTYPE html>
<!-- saved from url=(0066)https://shapeshed.com/creating-a-basic-site-with-node-and-express/ -->
<html lang="en"><link rel="stylesheet" href="./Creating a basic site with Node.js and Express _ George Ornbo_files/fe2cc2f24c949fab27a5df931f4c74c7.css"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><link rel="apple-touch-icon" sizes="180x180" href="https://shapeshed.com/apple-touch-icon.png"><link rel="icon" type="image/png" href="https://shapeshed.com/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="https://shapeshed.com/favicon-16x16.png" sizes="16x16"><link rel="manifest" href="https://shapeshed.com/manifest.json"><link rel="mask-icon" href="https://shapeshed.com/safari-pinned-tab.svg"><meta name="theme-color" content="#ffffff"><meta name="msvalidate.01" content="F610E4068826B9ADAA7E61D3D80A0BD9"><style>body,h1,h2,h3,h4,h5,h6,html,li,nav,p,ul{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}nav{display:block}.p-paging ul li,ul.primary li{display:inline}html{border-top:6px solid #000}body{font:75%/1.5em georgia,serif;max-width:40.49984em;color:#000;margin:0 auto;padding:1em}h1,h2,h3,h4,h5,h6{margin-bottom:1.42382em;font-weight:400}dl,ol,p,ul{margin-bottom:1.5em}ol,ul{margin-left:1.5em}ul{list-style-type:circle}ol{list-style-type:lower-roman}h1{margin:1em 0 .46981em;font:italic 2em/1.125em hoefler text,baskerville,"pt serif",times,times new roman,serif;line-height:1.125em;font-size:2em}h2{line-height:1.77777em;margin-bottom:1em;font-size:1.2em}a{border-bottom:1px solid #c8c8c8;text-decoration:none;color:#505050}ul.primary{margin-left:0;float:left;list-style:none}ul.primary li{margin-right:20px}@media screen and (min-width:15.652em){body{font-size:87.5%}}@media screen and (min-width:19.9375em){body{font-size:100%;padding:1.5em}h1{font-size:3em}}@media screen and (min-width:29.9375em){body{padding:1.5em 3em;max-width:34.3em}ol,ul{margin-left:0}}@media screen and (min-width:38em){body{padding:4.5em 3em 7.59372em}h1{font-size:4em}}.p-paging{float:left;width:100%;margin-bottom:1.42382em}.p-paging ul{list-style:none;width:100%}.p-paging ul li.next{float:right}.p-paging ul li.previous{float:left}.date{color:#999;float:left;clear:both;width:100%}.dropcap:first-letter{font:3.32956em/.7em georgia,serif;margin:.2em .15em .1em 0;float:left}p.meta{color:#666;font-style:italic;clear:left}h2.toc{border-bottom:1px solid #000}</style><link href="https://shapeshed.com/atom.xml" rel="alternate" type="application/rss+xml" title="George Ornbo"><title>Creating a basic site with Node.js and Express | George Ornbo</title><meta property="og:title" content="Creating a basic site with Node.js and Express | George Ornbo"><meta property="og:type" content="article"><meta property="og:url" content="https://shapeshed.com/creating-a-basic-site-with-node-and-express/"><meta property="og:site_name" content="George Ornbo"><meta name="twitter:image" content="https://shapeshed.com/images/george-400.jpg"><meta name="og:image" content="https://shapeshed.com/images/george-400.jpg"><meta name="author" content="George Ornbo"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Creating a basic site with Node.js and Express | George Ornbo"><meta name="twitter:site" content="@shapeshed"><meta name="twitter:creator" content="@shapeshed"><meta name="twitter:domain" content="shapeshed.com"><meta name="twitter:description" content="A walkthrough on how to create and deploy a basic site with Node.js and the Express framework. Examples of generating an express site, how to use templating and styles, creating basic routes and deploying the app to the Internet."><meta name="description" content="A walkthrough on how to create and deploy a basic site with Node.js and the Express framework. Examples of generating an express site, how to use templating and styles, creating basic routes and deploying the app to the Internet."></head><body><header><nav><ul class="primary"><li><a href="https://shapeshed.com/">Home</a></li><li><a href="https://shapeshed.com/archive/">Archive</a></li><li><a href="https://shapeshed.com/contact/">Contact</a></li></ul></nav></header><script async="" src="./Creating a basic site with Node.js and Express _ George Ornbo_files/analytics.js"></script><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://shapeshed.com/"},"headline":"Creating a basic site with Node.js and Express | George Ornbo","image":{"@type":"ImageObject","url":"https://shapeshed.com/images/george-700.jpg","height":700,"width":700},"copyrightYear":"2011","url":"https://shapeshed.com/creating-a-basic-site-with-node-and-express/","datePublished":"2011-04-18T00:00:00JST","dateModified":"2016-10-24T00:00:00JST","author":{"@type":"Person","name":"George Ornbo","image":"https://shapeshed.com/images/george-400.jpg"},"publisher":{"@type":"Organization","name":"Shape Shed","logo":{"@type":"ImageObject","url":"https://shapeshed.com/images/george-60.jpg","height":60,"width":60}},"description":"A walkthrough on how to create and deploy a basic site with Node.js and the Express framework. Examples of generating an express site, how to use templating and styles, creating basic routes and deploying the app to the Internet.","timeRequired":"7 minutes","wordCount":"1352","articleBody"</script><p class="date">Last updated <time datetime="2016-10-24T00:00:00" data-updated="true">Monday, Oct 24, 2016</time></p><h1>Creating a basic site with Node.js and Express</h1><h2 class="dropcap">A walkthrough on how to create and deploy a basic site with Node.js and the Express framework. Examples of generating an express site, how to use templating and styles, creating basic routes and deploying the app to the Internet.</h2><p class="meta">Estimated reading time: 7 minutes</p><h2 class="toc">Table of contents</h2><nav id="TableOfContents"><ul><li><ul><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#what-we-are-going-to-do">What we are going to do</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#setup">Setup</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#prerequisites">Prerequisites</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#create-an-express-site">Create an Express site</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#boot-the-app">Boot the app</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#using-git">Using Git</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#developing-node-js-sites">Developing Node.js sites</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#html-in-express">HTML in Express</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#css-in-express">CSS in Express</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#routing-in-express">Routing in Express</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#publishing-your-site">Publishing your site</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#conclusion">Conclusion</a></li><li><a href="https://shapeshed.com/creating-a-basic-site-with-node-and-express/#further-reading">Further reading</a></li></ul></li></ul></nav><h2 id="what-we-are-going-to-do">What we are going to do</h2><p>This walkthrough will go over setting up a basic site using <a href="http://nodejs.org/">Node.js</a> and Express. The walkthrough is aimed at beginners exploring Node.js as I’ve had many questions from friends and colleagues about creating and deploying node apps. If you are not a beginner the article probably won’t be of much use to you. We are going to use <a href="http://expressjs.com/">express</a>, an excellent web framework for node created by <a href="http://tjholowaychuk.com/">TJ Holowaychuk</a> who seems to be pumping out Node.js libraries like he was ten men.</p><p>Here is <a href="http://express-tutorial.herokuapp.com/">the site</a> we are going to create. You might also want to grab the <a href="https://github.com/shapeshed/express_example">source code</a>.</p><p><a href="http://express-tutorial.herokuapp.com/"><img src="./Creating a basic site with Node.js and Express _ George Ornbo_files/express_example.jpg" alt="Example Express website"></a></p><h2 id="setup">Setup</h2><p>First we need to setup our development environment. If you are on OSX I’ve <a href="https://shapeshed.com/setting-up-nodejs-and-npm-on-mac-osx/">covered how to setup Node.js and npm on OSX</a> in a previous article. If you haven’t got everything installed follow that article.</p><p>If you are on Linux there are plenty of <a href="http://www.google.com/search?q=install+node.js+linux">articles on Google</a>.</p><p>For Windows users there are also <a href="http://www.google.com/search?q=install+node.js+windows">resources on Google</a> but it is a bit more tricky.</p><h2 id="prerequisites">Prerequisites</h2><p>If everything has installed ok you should now have Node.js and npm running on your machine. At the terminal type <code>node -v</code> and <code>npm -v</code> and you should see something like:</p><pre><code>node -v
v6.7.0
npm -v
3.10.8
</code></pre><h2 id="create-an-express-site">Create an Express site</h2><p>Still with me? We’ve covered a lot already! Now let’s create an Express site.</p><p>First let’s install express</p><pre><code>npm install -g express-generator
</code></pre><p>You may find that you get a permissions error. If this is the case rerun the command with <code>sudo</code>.</p><pre><code>sudo npm install -g express-generator
</code></pre><p>The <code>-g</code> flag means that you are installing express globally on your system.</p><p>Now we can create an express application.</p><pre><code>express -c stylus express_example
</code></pre><p>The <code>-c</code> states that we want to use stylus for css. You should see the following output:</p><pre><code>create : express_example
create : express_example/package.json
create : express_example/app.js
create : express_example/public
create : express_example/routes
create : express_example/routes/index.js
create : express_example/routes/users.js
create : express_example/views
create : express_example/views/index.jade
create : express_example/views/layout.jade
create : express_example/views/error.jade
create : express_example/bin
create : express_example/bin/www
create : express_example/public/javascripts
create : express_example/public/images
create : express_example/public/stylesheets
create : express_example/public/stylesheets/style.styl

install dependencies:
 $ cd express_example &amp;&amp; npm install

run the app:
 $ DEBUG=express_example:* npm start
</code></pre><p>As per the instructions you’ll need to install dependencies so do this</p><pre><code>cd express_example &amp;&amp; npm install
</code></pre><p>This will install packages and you will see a lot of output. When this is complete you can boot your application.</p><h2 id="boot-the-app">Boot the app</h2><p>That’s all the setup you need. Phew. Now you can boot the app. If you are on OSX or Linux use the following command.</p><pre><code>DEBUG=express_example:* npm start
</code></pre><p>If you are on Windows use the following command.</p><pre><code>set DEBUG=express_example:* &amp; npm start
</code></pre><p>You should see <code>Express server listening on port 3000</code> and if you open <a href="http://127.0.0.1:3000/">http://127.0.0.1:3000</a> you’ll see the default Express page.</p><h2 id="using-git">Using Git</h2><p><a href="http://git-scm.com/">Git</a> is a version control system that is used heavily in the Node.js ecosystem, particulary with <a href="https://github.com/">Github</a>. If you aren’t familiar with Git <a href="http://scottchacon.com/">Scott Chacon</a> is your go-to man. He’s written extensively and eloquently on Git for beginners and experts. Checkout <a href="http://gitcasts.com/">Gitcasts</a> for if you are a beginner and <a href="http://progit.org/">ProGit</a> for more advanced stuff. We are going to use git to version our site and publish it so let’s set up our repo now. If your Express server is still running hit CTRL + C to stop it.</p><pre><code>git init
echo 'node_modules' &gt; .gitignore
git add .
git commit -m 'initial commit'
</code></pre><h2 id="developing-node-js-sites">Developing Node.js sites</h2><p>Normally when you develop a Node.js site you’ll need to restart your application each time you make a change. Thankfully our home-grown British JavaScript genius <a href="http://remysharp.com/">Remy Sharp</a> has solved this problem with <a href="https://github.com/remy/nodemon">nodemon</a>. Nodemon will reload your application each time it changes so you don’t need to restart it. If you have used <a href="https://github.com/rtomayko/shotgun">Shotgun</a> for Ruby with <a href="http://www.sinatrarb.com/">Sinatra</a> it is similar to that. To install run</p><pre><code>npm install -g nodemon
</code></pre><p>Then you can start your app with</p><pre><code>DEBUG=express_example:* nodemon
</code></pre><p>Nodemon automatically looks in your project setting to find the appropriate files and setting to start your server. If this does not work try:</p><pre><code>DEBUG=express_example nodemon npm start
</code></pre><p>Using nodemon means you don’t have to restart your app each time you make a change. For more infomation on nodemon see the <a href="https://github.com/remy/nodemon/blob/master/README.md">README</a></p><h2 id="html-in-express">HTML in Express</h2><p>Express is agnostic as to which templating language you use. Templating languages can be a hot topic of debate but for this article I’m going to use <a href="http://jade-lang.com/">jade</a>. If you’ve used <a href="http://haml-lang.com/">haml</a> it is similar to that. In the example we use jade to setup a layout template.</p><pre><code>doctype
html
  head
    title= title
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/chunkfive-fontface.css')
  body
    header
      nav
        ul
          li 
            a(href="/") Home
          li 
            a(href="/about") About
          li 
            a(href="/contact") Contact
    section#wrapper
        block content
        footer 
          section.css-table
            section.four-column
              section.cell
                p Mauris porttitor &lt;br /&gt;felis eu leo aliquet&lt;br /&gt; ac rutrum odio aliquet
              section.cell
                p Mauris porttitor &lt;br /&gt;felis eu leo aliquet&lt;br /&gt; ac rutrum odio aliquet
              section.cell
                p Mauris porttitor &lt;br /&gt;felis eu leo aliquet&lt;br /&gt; ac rutrum odio aliquet
              section.cell
                p Mauris porttitor &lt;br /&gt;felis eu leo aliquet&lt;br /&gt; ac rutrum odio aliquet
</code></pre><p>Save this file as <code>/views/layout.jade</code> overwriting the file created by the generator. This is a common template we can reuse. The line <code>block content</code> pulls in content from the page it is used on. Express also supports variables that you pass through to the template. In this case we pass the title variable. If you are coming from Sinatra this will be familiar to you. If you are not I recommend consulting the <a href="http://expressjs.com/guide.html">Express documentation</a>.</p><h2 id="css-in-express">CSS in Express</h2><p>Again Express is agnostic to what you use to generate your CSS - you can use vanilla CSS but for this example I’m using <a href="http://stylus-lang.com/">Stylus</a>. This is very similar to <a href="http://sass-lang.com/">Sass</a> and supports variables, mixins, functions and more. I really like it! Here’s an example from our stylesheet</p><pre><code>body
  font 62.5%/1.5  Helvetica, Arial, "Lucida Grande", "Lucida Sans", Tahoma, Verdana, sans-serif
  text-align center
  background #000

#wrapper
  width 920px
  text-align left 
  margin-left auto 
  margin-right auto
  background #fff
  padding 20px
  border-bottom-radius(15px)
</code></pre><p>You’ll see that stylus is very terse - you don’t need brackets or commas.</p><h2 id="routing-in-express">Routing in Express</h2><p>Routing is similar to <a href="http://www.sinatrarb.com/">Sinatra</a>, allowing you to set up RESTful routes.</p><p>In this example we setup three routes in <a href="https://github.com/shapeshed/express_example/blob/master/routes/router.js">routes/index.js</a></p><pre><code>var express = require('express');
var router = express.Router();

router.get('/', function(req, res){
  res.render('index', {
    title: 'Home'
  });
});

router.get('/about', function(req, res){
  res.render('about', {
    title: 'About'
  });
});

router.get('/contact', function(req, res){
  res.render('contact', {
    title: 'Contact'
  });
});

module.exports = router;
</code></pre><p>See the <a href="http://expressjs.com/guide.html#routing">Express documentation</a> for more.</p><h2 id="publishing-your-site">Publishing your site</h2><p>We’ve now developed a basic Node.js site using express and we want to host it somewhere. Publishing the site to <a href="http://www.heroku.com/">Heroku</a> is free and you can be up and running in no time. You can sign up for an account at <a href="http://www.heroku.com/">Heroku</a> for free and then install the <a href="https://toolbelt.heroku.com/">toolbelt</a>.</p><p>Then you can use the command line tools to create a site on Heroku and publish it.</p><pre><code>heroku apps:create 
git push heroku master
</code></pre><p>After some output you should see that your application is deployed and a line with the url of your application. Copy and paste the URL and open it in your browser. You should see your application deployed on the Internet.</p><pre><code>remote:        https://[yoururl].herokuapp.com/ deployed to Heroku
</code></pre><h2 id="conclusion">Conclusion</h2><p>This article has showed how to create a very basic site using Node.js and Express. It has introduced a number of things from the Node.js ecosystem and showed you how to deploy the app to Nodester.</p><p>The strengths of Node.js as a technology are not so much in building static websites like this. I encourage you to explore some of the Node.js libraries to see what it can do. Particularly for real-time applications Node.js is extremely exciting and I think we’ll see some great apps built on Node.js. Try starting with <a href="http://socket.io/">socket.io</a> for a taste of what to expect.</p><p>If you find any inaccuracies in the post <a href="https://shapeshed.com/contact/">send me an email</a> and I’ll update the post.</p><h2 id="further-reading">Further reading</h2><ul><li><a href="http://nodejs.org/">Node.js</a></li><li><a href="http://expressjs.com/">express - node web framework</a></li><li><a href="http://npmjs.org/">npm - node package manager</a></li><li><a href="http://jade-lang.com/">jade - Node.js templating language</a></li><li><a href="http://stylus-lang.com/">stylus - Node.js css framework</a></li><li><a href="https://shapeshed.com/setting-up-nodejs-and-npm-on-mac-osx/">Setting up Node.js and npm on Mac OSX</a></li><li><a href="https://github.com/shapeshed/express_example">Source code for this article</a></li></ul><p class="highlight">Have an update or suggestion for this article?
<a href="https://github.com/shapeshed/shapeshed.com/edit/master/content/post/creating-a-basic-site-with-node-and-express.md">You can edit it here and send me a pull request.</a></p><h2>Tags</h2><ul id="tags"><li><a href="https://shapeshed.com/tags/node.js">Node.js</a></li><li><a href="https://shapeshed.com/tags/javascript">JavaScript</a></li></ul><h2>Recent Posts</h2><ul><li><p><a href="https://shapeshed.com/vim-statuslines/">Build your own Vim statusline</a><br>Statuslines in Vim are not hard to create. Making your own means one less dependency in your life.</p><p></p></li><li><p><a href="https://shapeshed.com/custom-vim-bindings-in-tmux-2-4/">Custom Vim Bindings in tmux 2.4</a><br>tmux 2.4 made a significant change to key bindings. Here is how to support custom keybindings for versions before and after tmux 2.4</p><p></p></li><li><p><a href="https://shapeshed.com/vim-templates/">Using template files in Vim</a><br>Vim templates or skeletons, allow you to specify a template to be used for new files with a certain extension.</p><p></p></li></ul><footer><h2>About the author</h2><img width="120" height="120" src="./Creating a basic site with Node.js and Express _ George Ornbo_files/george-120.jpg" alt="Picture of George Ornbo" title="George Ornbo" class="mugshot"><p>George Ornbo is a hacker, futurist, blogger and Dad based in Buckinghamshire, England.</p><p>He is the author of <a href="http://nodejsbook.io/" class="highlight">Sams Teach Yourself Node.js in 24 Hours</a>. He can be found in most of the usual places as shapeshed including <a href="https://twitter.com/shapeshed" class="highlight" onclick="ga(&#39;send&#39;,&#39;event&#39;,&#39;Link&#39;,&#39;click&#39;,&#39;Twitter&#39;);">Twitter</a> and <a href="https://github.com/shapeshed" class="highlight">GitHub</a>.</p><a href="https://shapeshed.com/" class="highlight">← http://shapeshed.com</a></footer><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-324369-3','auto');ga('send','pageview');</script><script async="" src="./Creating a basic site with Node.js and Express _ George Ornbo_files/analytics.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-324369-3','auto');ga('send','pageview');</script><script>var cb=function(){var l=document.createElement('link');l.rel='stylesheet';l.href='/css/fe2cc2f24c949fab27a5df931f4c74c7.css';var h=document.getElementsByTagName('head')[0];h.parentNode.insertBefore(l,h);};var raf=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame;if(raf)raf(cb);else window.addEventListener('load',cb);</script></body></html>